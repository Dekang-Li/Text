<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			body {
				margin: 0;
				background: yellow;
			}
			form {
				width: 400px;
				margin: 100px auto;
			}
			input {
				width: 300px;
				height: 30px;
				border: 5px solid #000;
				padding: 0;
				outline: none;
			}
			label {
				display: block;
				width: 398px;
				margin-top: 20px;
			}
			input[type="button"] {
				width: 100px;
				margin: 20px 150px;
			}
			.red {
				border: 5px solid red;
			}
			.blue {
				border: 5px solid blue;
			}
		</style>
	</head>
	<body>
		<form action="http:\\www.baidu.com">
			<label>
				<span>QQ号:</span>
				<input type="text" />
			</label>
			<label>
				<span>邮箱:</span>
				<input type="text" />
			</label>
			<label>
				<span>生日:</span>
				<input type="text" />
			</label>
			<input type="button" value="按钮" id="btn" />
		</form>
	</body>
	<script>
			var tex = document.querySelectorAll("[type='text']");
			var btn = document.getElementById("btn");
			var form = document.getElementsByTagName("form")[0];
			btn.onclick = function(){
				if(!/^(\s+)?[1-9]\d{1,10}(\s+)?$/.test(tex[0].value)){
					tex[0].className = "red";
				}
				if(!/^[a-zA-Z]\w{1,16}@[1-9a-z]\w{1,3}.(com|cn)$/.test(tex[1].value)){
					tex[1].className = "red";
				}
				if(!/^(((19[2-9][0-9])|(191[6-9]))|((200[0-9])|(201[0-6])))-(((0[13578])-(([0-2][0-9])|(3[01])))|((0[469])-(([0-2][0-9])|30))|((1[02])-(([0-2][0-9])|(3[01])))|(11-(([0-2][0-9])|30))|(2-(([0-2][0-9]))))$/.test(tex[2].value)){
					tex[2].className = "red";
				}
				if(/^(\s+)?[1-9]\d{1,10}(\s+)?$/.test(tex[0].value)
				&&/^[a-zA-Z]\w{1,16}@[1-9a-z]\w{1,3}.(com|cn)$/.test(tex[1].value)
				&&/^(((19[2-9][0-9])|(191[6-9]))|((200[0-9])|(201[0-6])))-(((0[13578])-(([0-2][0-9])|(3[01])))|((0[469])-(([0-2][0-9])|30))|((1[02])-(([0-2][0-9])|(3[01])))|(11-(([0-2][0-9])|30))|(2-(([0-2][0-9]))))$/.test(tex[2].value)
			){
					form.submit();	
				}
			}
				tex[0].onchange = function(){
					if(/^(\s+)?[1-9]\d{1,10}(\s+)?$/.test(tex[0].value)){
						tex[0].className = "blue";
					}else{
						tex[0].className = "red";
					}
				}
				tex[1].onchange = function(){
					if(/^[a-zA-Z]\w{1,16}@[1-9a-z]\w{1,3}.(com|cn)$/.test(tex[1].value)){
						tex[1].className = "blue";
					}else{
						tex[1].className = "red";
					}
				}
				tex[2].onchange = function(){
					if(/^(((19[2-9][0-9])|(191[6-9]))|((200[0-9])|(201[0-6])))-(((0[13578])-(([0-2][0-9])|(3[01])))|((0[469])-(([0-2][0-9])|30))|((1[02])-(([0-2][0-9])|(3[01])))|(11-(([0-2][0-9])|30))|(2-(([0-2][0-9]))))$/.test(tex[2].value)){
						tex[2].className = "blue";
					}else{
						tex[2].className = "red";
					}
				}
				/*console.log(/^\s+?[1-9]\d{1,10}\s+?$/.test(tex[0].value));
				console.log(/^[a-zA-Z]\w{1,16}@[1-9a-z]\w{1,3}.(com|cn)$/.test(tex[1].value));
				console.log(
					/^(((19[2-9][0-9])|(191[6-9]))|((200[0-9])|(201[0-6])))-(((0[13578])-(([0-2][0-9])|(3[01])))|((0[469])-(([0-2][0-9])|30))|((1[02])-(([0-2][0-9])|(3[01])))|(11-(([0-2][0-9])|30))|(2-(([0-2][0-9]))))$/.test(tex[2].value));*/
	</script>
</html>
