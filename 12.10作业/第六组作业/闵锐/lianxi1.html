<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
	#wrap {
		width: 100%;
		height: 100%;
		position: relative;	
	}
	#wrap div {
		position: absolute;
		top: 0;
		width: 100px;
		height: 100px;	
		background: red;
		transition: 1s
	}
</style>
<script src="jquery-3.1.1.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
	<div id="wrap">
        <div class="div">1</div>
        <div class="div">2</div>
        <div class="div">3</div>
        <div class="div">4</div>
        <div class="div">5</div>
        <div class="div">6</div>
        <div class="div">7</div>
        <div class="div">8</div>
    </div>
    <script>
    	(function(){
			for(var i = 0;i<$('.div').length;i++){
				$('.div').eq(i).css({
					left:120*i
				})
				$('.div').eq(i).on('click',up);
			}	
			//点击下落
			function up(){
				$(this).css({
					top:400
				});
				left($(this));
				right($(this))
			}
			//判断下落元素有没有左右节点，左边有，下落并让左面的落。直到左边没有
			function left(e){
				if(e.prev()){
					setTimeout(function(){
						e.prev().css({
							top:400
						});
						left(e.prev());
					},400);
				}
			}
			function right(e){
				if(e.next()){
					setTimeout(function(){
						e.next().css({
							top:400
						});
						right(e.next());
					},400)
				}
			}
		})()
    </script>   
</body>
</html>
